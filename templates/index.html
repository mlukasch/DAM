<!DOCTYPE html>
<html lang="en">
<head>
  <title>DAM</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>
  <style>
    .custom {
    width: 180px !important;
    }

    .dataset_width {
    width: 240px !important;
    }
 </style>
</head>
<body>

<div class="container">
  <h1><span class="label label-primary dataset_width" id="cdata">Choose dataset</span></h1>
  <div>

    <select class="form-control dataset_width" id="data_select">
      <option value="None"></option>
      <option value="Aragon">Aragon</option>
      <option value="Bonn">Bonn</option>
      <option value="ESIF_Sample">ESIF Sample</option>
      <option value="ESIF">ESIF</option>
      <option value="Thessaloniki">Thessaloniki</option>
    </select>
    <script>
      $('#data_select').on('change', function () {
      var selectVal = $("#data_select option:selected").val();
      document.getElementById("cdata").innerHTML = selectVal;
      });
    </script>
    <p><p>
    <!-- Trigger the modal with a button -->
    <button type="button" class="btn btn-info btn-lg dataset_width" data-toggle="modal" data-target="#damModal">Data Analysis & Mining</button>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="damModal" role="dialog">
    <div class="modal-dialog">
      
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Which computational service do you need?</h4>
        </div>
        <div class="modal-body">
	  <div>
	   <button type="button" class="btn btn-info btn-lg custom " data-toggle="modal" data-target="#task1Modal"> Outlier Detection</button> 
	   <button type="button" class="btn btn-info btn-lg custom " data-toggle="modal" data-target="#task2Modal">  Pattern Mining  </button>
	   <button type="button" class="btn btn-info btn-lg custom " data-toggle="modal" data-target="#task3Modal">  Trend Analysis  </button>
	  </div>
	  <p>
	  <div>
	   <button type="button" class="btn btn-info btn-lg custom" data-toggle="modal" data-target="#task4Modal">  Graph Analysis  </button>
	   <button type="button" class="btn btn-info btn-lg custom" data-toggle="modal" data-target="#task5Modal">    Aggregation   </button>
	   <button type="button" class="btn btn-info btn-lg custom" data-toggle="modal" data-target="#task6Modal">    Statistics    </button>
	  </div>
	  <p>
	  <div>
	   <button type="button" class="btn btn-info btn-lg custom" data-toggle="modal" data-target="#task7Modal">   Pattern Matching </button>
	   <button type="button" class="btn btn-info btn-lg custom" data-toggle="modal" data-target="#task8Modal">    Comparison      </button>
	   <button type="button" class="btn btn-info btn-lg custom" data-toggle="modal" data-target="#task9Modal">    Clustering      </button>
	  </div> 

	   
	</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default"  name="closeBtn" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>


  <!-- output area -->
  <strong><div id="echoResult"></div></strong>
  <div id="visualization"></div>
  
  
  <!-- Task1 Modal content -->
  <div class="modal fade" id="task1Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">  <div id="od_task"> Outlier Detection </div></h4>
             </div>
             <div class="modal-body">
	       {% block content %}
	       <script type="text/javascript">
		 $(function() {

		 $("#submitBtn1").click(function() {
		 $("#damModal").modal("hide");
		 $("#task1Modal").modal("hide");
		 
		 $.ajax({
		 type: "GET",
		 url: $SCRIPT_ROOT + "/echo/",
		 contentType: "application/xml; charset=utf-8",
		 data: { echoValue: $('#cdata').text() },
		 success: function(data) {
                 $('#echoResult').text(data.value);
		 var container = document.getElementById('visualization');
		 var items = [
		 {x: '2014-06-11', y: 10},
		 {x: '2014-06-12', y: 25},
		 {x: '2014-06-13', y: 30},
		 {x: '2014-06-14', y: 10},
		 {x: '2014-06-15', y: 15},
		 {x: '2014-06-16', y: 30}
		 ];
		 
		 var dataset = new vis.DataSet(items);
		 var options = {
		 start: '2014-06-10',
		 end: '2014-06-18'
		 };
		 var graph2d = new vis.Graph2d(container, dataset, options);
		 
		 },
		 error: function(jqXHR, textStatus, errorThrown) {
                 alert(errorThrown);
		 }
		 });     
		 });
		 });
	       </script>
	       <strong>Enter a value to echo back:</strong>
	       <input size="10" id="echoText" name="echoText" type="text">
	      <br><br>
	       
	       {% endblock %}
             </div>
             <div class="modal-footer">
	        <button type="button" class="btn btn-info btn-lg custom" id="submitBtn1" name="submitBtn1">Submit</button>
		<button type="button" class="btn  btn-info btn-lg custom" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

  
  <!-- Task2 Modal content -->
  <div class="modal fade" id="task2Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Pattern Mining</h4>
             </div>
             <div class="modal-body">
             
	     
             </div>
             <div class="modal-footer">
	       <button type="button" class="btn btn-info btn-lg custom" id="submitBtn2" name="submitBtn2">Submit</button>
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

  
  <!-- Task3 Modal content -->
  <div class="modal fade" id="task3Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Trend Analysis </h4>
             </div>
             <div class="modal-body">
               <p>parameter for task 3 </p>
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

   <!-- Task4 Modal content -->
  <div class="modal fade" id="task4Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Graph Analysis </h4>
             </div>
             <div class="modal-body">
	     

             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

  

  <!-- Task5 Modal content -->
  <div class="modal fade" id="task5Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Aggregation </h4>
             </div>
             <div class="modal-body">
               <p>parameter for task 5 </p>
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

  
  <!-- Task6 Modal content -->
  <div class="modal fade" id="task6Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title"> Statistics</h4>
             </div>
             <div class="modal-body">
                 {% block content6 %}
	       <script type="text/javascript">
		 $(function() {

		 $("#submitBtn6").click(function() {
		 $("#damModal").modal("hide");
		 $("#task6Modal").modal("hide");
		 
		 $.ajax({
		 type: "GET",
		 url: $SCRIPT_ROOT + "/statistics/",
		 contentType: "application/xml; charset=utf-8",
		 data: {city: $('#cdata').text() },
		 success: function(data) {

		 var container = document.getElementById('visualization');
		 var items = data.result['d'];
		 var ymean = data.result['m'];
		 var ystd = data.result['s'];
		 console.log('data:', items['d']);
		 
		 var dataset = new vis.DataSet(items);
		 var options = {
		 width:  '100%',
		 height: '400px',
		 defaultGroup: 'amount',
		 legend: true
		 };
		 
		 var graph2d = new vis.Graph2d(container, dataset, options);
		 
		 },
		 error: function(jqXHR, textStatus, errorThrown) {
                 alert(errorThrown);
		 }
		 });     
		 });
		 });
	       </script>
	       <strong>Enter a value to echo back:</strong>
	       <input size="10" id="echoText" name="echoText" type="text">
	      <br><br>
	       
	       {% endblock %}
             </div>
             <div class="modal-footer">
	        <button type="button" class="btn btn-info btn-lg custom" id="submitBtn6" name="submitBtn6">Submit</button>
		<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

  
  <!-- Task7 Modal content -->
  <div class="modal fade" id="task7Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Pattern Matching</h4>
             </div>
             <div class="modal-body">
               <p>parameter for task 7 </p>
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

   <!-- Task8 Modal content -->
  <div class="modal fade" id="task8Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Comparison</h4>
             </div>
             <div class="modal-body">
               <p>parameter for task 8 </p>
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>

  
   <!-- Task9 Modal content -->
  <div class="modal fade" id="task9Modal" role="dialog">
    <div class="modal-dialog">
	   <div class="modal-content">
             <div class="modal-header">
               <button type="button" class="close" data-dismiss="modal">&times;</button>
               <h4 class="modal-title">Clustering </h4>
             </div>
             <div class="modal-body">
             
             </div>
             <div class="modal-footer">
	       <button type="button" class="btn btn-info btn-lg custom" id="submitBtn9" name="submitBtn9">Submit</button>
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
             </div>
	   </div>
    </div>
  </div>
  
  
</body>
</html>

